#----------------------------------------------------------------------
# Go settings
#----------------------------------------------------------------------
GOCMD=go
GOBUILD=$(GOCMD) build
GOCLEAN=$(GOCMD) clean
GOGET=$(GOCMD) get

#----------------------------------------------------------------------
# Standard option to run
#----------------------------------------------------------------------
all: build

#----------------------------------------------------------------------
# General building procedure
#----------------------------------------------------------------------
build: deps
	@echo "Building..."
	@$(GOBUILD)

#----------------------------------------------------------------------
# Cleanup
#----------------------------------------------------------------------
clean:
	@echo "Cleaning..."
	@$(GOCLEAN)

#----------------------------------------------------------------------
# Dependency retrieval.
#----------------------------------------------------------------------
deps:
	@echo "Fetching dependencies..."
	@$(GOGET) -u github.com/gin-gonic/gin
	@$(GOGET) -u github.com/go-sql-driver/mysql
	@$(GOGET) -u gopkg.in/yaml.v2